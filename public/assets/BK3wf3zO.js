import{_ as lt}from"./gld1I_wh.js";import{q as nt,r as v,e as it,f as dt,c as a,g as i,u as s,a as t,b as Z,t as o,w as tt,F as p,k as h,l as ct,o as l,d as et}from"./CXEZLcEQ.js";import{u as st}from"./_3XIv0p6.js";const mt={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},xt={key:1,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},_t={class:"text-center"},gt={class:"text-red-600 mb-4"},ut={class:"text-gray-600 mt-2"},pt={key:2},ht={class:"bg-white border-b"},yt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ft={class:"flex items-start justify-between"},bt={class:"flex-1"},vt={class:"flex mb-4","aria-label":"Breadcrumb"},kt={class:"flex items-center space-x-2"},wt={class:"text-gray-900 font-medium"},Lt={class:"mb-6"},Mt={class:"text-3xl font-bold text-gray-900 mb-2"},Rt={key:0,class:"text-lg text-gray-600 mb-2"},Bt={key:1,class:"text-gray-600"},It={key:0,class:"mb-6"},Ct={class:"flex flex-wrap gap-2"},Dt={class:"flex-shrink-0 ml-8"},Vt={class:"bg-gray-50 rounded-lg p-6 min-w-48"},$t={class:"space-y-3"},jt={class:"text-2xl font-bold text-gray-900"},Nt={class:"text-2xl font-bold text-green-600"},zt={class:"text-lg font-semibold text-gray-700"},St={key:0,class:"mt-6"},Ut={class:"text-gray-700 leading-relaxed"},qt={key:1,class:"mt-6"},Ft={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ht={key:0,class:"bg-blue-50 p-4 rounded-lg"},At={class:"text-sm text-blue-800"},Et={key:1,class:"bg-green-50 p-4 rounded-lg"},Tt={class:"text-sm text-green-800"},Gt={key:2,class:"bg-purple-50 p-4 rounded-lg"},Jt={class:"text-sm text-purple-800"},Kt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},Ot={class:"mb-8"},Pt={class:"text-gray-600"},Qt={class:"space-y-8"},Wt={class:"flex items-start justify-between mb-6"},Xt={class:"flex-1"},Yt={class:"text-xl font-semibold text-gray-900 mb-1"},Zt={key:0,class:"text-gray-600 mb-3"},te={key:1,class:"mb-3"},ee={class:"inline-flex flex-wrap gap-1"},se={class:"flex-shrink-0 text-right"},re={class:"text-2xl font-bold text-green-600"},oe={class:"bg-gray-50 rounded-lg p-6"},ae={class:"text-lg font-semibold text-gray-900 mb-4"},le={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ne={class:"space-y-4"},ie={class:"text-sm text-gray-600"},de={class:"text-sm text-gray-600"},ce={key:0},me={class:"flex flex-wrap gap-1"},xe={class:"space-y-4"},_e={class:"text-sm text-gray-600"},ge={class:"text-sm text-gray-600"},ue={class:"text-sm text-gray-600"},pe={key:0,class:"text-center py-12"},ke={__name:"[id]",setup(he){const y=nt().params.id;st({title:"研究者詳細 - 大阪大学研究マッチングシステム",meta:[{name:"description",content:"研究者の詳細なマッチング結果と研究テーマ提案"}]});const r=v(null),f=v(!0),g=v(null),rt=async()=>{var c;try{console.log("Starting data load for ID:",y),f.value=!0;const m=ct().public.baseURL||"/",u=`researcher_${String(y).padStart(3,"0")}`,x=`${m}data/researchers/${u}.json`.replace("//","/");console.log("Request URL:",x);const d=await $fetch(x);console.log("Loaded data successfully:",!!d.target_researcher),r.value=d,(c=d==null?void 0:d.target_researcher)!=null&&c.name&&st({title:`${d.target_researcher.name} - 研究マッチング結果`})}catch(e){console.error("Data loading error:",e),e.status===404?g.value=`研究者データが見つかりません (ID: ${y})`:g.value="データの読み込みに失敗しました: "+e.message}finally{f.value=!1}},ot=it(()=>{var e,m;if(!((m=(e=r.value)==null?void 0:e.target_researcher)!=null&&m.research_interests))return!1;const c=r.value.target_researcher.research_interests;return c.collaboration||c.technology||c.market});return dt(()=>{rt()}),(c,e)=>{var b,u,x,d,k,w,L,M,R,B,I,C,D,V,$,j,N,z,S,U,q,F,H,A,E,T,G,J,K,O,P,Q,W;const m=lt;return l(),a("div",null,[s(f)?(l(),a("div",mt,e[0]||(e[0]=[t("div",{class:"text-center"},[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),t("p",{class:"mt-2 text-gray-600"},"研究者データを読み込み中...")],-1)]))):s(g)?(l(),a("div",xt,[t("div",_t,[t("div",gt,[e[1]||(e[1]=t("svg",{class:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e[2]||(e[2]=t("h3",{class:"text-lg font-medium"},"データの読み込みに失敗しました",-1)),t("p",ut,o(s(g)),1)]),Z(m,{to:"/",class:"btn-primary"},{default:tt(()=>e[3]||(e[3]=[et(" 研究者一覧に戻る ")])),_:1,__:[3]})])])):s(r)?(l(),a("div",pt,[t("section",ht,[t("div",yt,[t("div",ft,[t("div",bt,[t("nav",vt,[t("ol",kt,[t("li",null,[Z(m,{to:"/",class:"text-gray-500 hover:text-gray-700"},{default:tt(()=>e[4]||(e[4]=[et(" 研究者一覧 ")])),_:1,__:[4]})]),e[5]||(e[5]=t("li",null,[t("svg",{class:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 111.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])],-1)),t("li",wt,o(((u=(b=s(r))==null?void 0:b.target_researcher)==null?void 0:u.name)||"Loading..."),1)])]),t("div",Lt,[t("h1",Mt,o(((d=(x=s(r))==null?void 0:x.target_researcher)==null?void 0:d.name)||"Loading..."),1),(w=(k=s(r))==null?void 0:k.target_researcher)!=null&&w.name_en?(l(),a("p",Rt,o(s(r).target_researcher.name_en),1)):i("",!0),(M=(L=s(r))==null?void 0:L.target_researcher)!=null&&M.affiliation?(l(),a("p",Bt,o(s(r).target_researcher.affiliation),1)):i("",!0)]),(I=(B=(R=s(r))==null?void 0:R.target_researcher)==null?void 0:B.keywords)!=null&&I.length?(l(),a("div",It,[e[6]||(e[6]=t("h3",{class:"text-sm font-medium text-gray-700 mb-2"},"研究キーワード",-1)),t("div",Ct,[(l(!0),a(p,null,h(s(r).target_researcher.keywords,n=>(l(),a("span",{key:n,class:"inline-block px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-full"},o(n),1))),128))])])):i("",!0)]),t("div",Dt,[t("div",Vt,[e[10]||(e[10]=t("h3",{class:"text-sm font-medium text-gray-700 mb-4"},"マッチング統計",-1)),t("dl",$t,[t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm text-gray-600"},"マッチング数",-1)),t("dd",jt,o(((D=(C=s(r))==null?void 0:C.analysis_summary)==null?void 0:D.total_candidates_analyzed)||(($=(V=s(r))==null?void 0:V.matches)==null?void 0:$.length)||0),1)]),t("div",null,[e[8]||(e[8]=t("dt",{class:"text-sm text-gray-600"},"最高マッチ度",-1)),t("dd",Nt,o(Math.round((((N=(j=s(r))==null?void 0:j.analysis_summary)==null?void 0:N.max_similarity_score)||0)*100))+"%",1)]),t("div",null,[e[9]||(e[9]=t("dt",{class:"text-sm text-gray-600"},"平均マッチ度",-1)),t("dd",zt,o(Math.round((((S=(z=s(r))==null?void 0:z.analysis_summary)==null?void 0:S.average_similarity_score)||0)*100))+"%",1)])])])])]),(q=(U=s(r))==null?void 0:U.target_researcher)!=null&&q.abstract?(l(),a("div",St,[e[11]||(e[11]=t("h3",{class:"text-lg font-medium text-gray-900 mb-3"},"研究概要",-1)),t("p",Ut,o(s(r).target_researcher.abstract),1)])):i("",!0),s(ot)?(l(),a("div",qt,[e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-gray-900 mb-3"},"研究関心事",-1)),t("div",Ft,[(A=(H=(F=s(r))==null?void 0:F.target_researcher)==null?void 0:H.research_interests)!=null&&A.collaboration?(l(),a("div",Ht,[e[12]||(e[12]=t("h4",{class:"text-sm font-medium text-blue-900 mb-2"},"共同研究への関心",-1)),t("p",At,o(s(r).target_researcher.research_interests.collaboration),1)])):i("",!0),(G=(T=(E=s(r))==null?void 0:E.target_researcher)==null?void 0:T.research_interests)!=null&&G.technology?(l(),a("div",Et,[e[13]||(e[13]=t("h4",{class:"text-sm font-medium text-green-900 mb-2"},"技術的関心",-1)),t("p",Tt,o(s(r).target_researcher.research_interests.technology),1)])):i("",!0),(O=(K=(J=s(r))==null?void 0:J.target_researcher)==null?void 0:K.research_interests)!=null&&O.market?(l(),a("div",Gt,[e[14]||(e[14]=t("h4",{class:"text-sm font-medium text-purple-900 mb-2"},"市場への関心",-1)),t("p",Jt,o(s(r).target_researcher.research_interests.market),1)])):i("",!0)])])):i("",!0)])]),t("section",Kt,[t("div",Ot,[e[16]||(e[16]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"研究マッチング結果",-1)),t("p",Pt," AI分析により推薦された"+o(((Q=(P=s(r))==null?void 0:P.matches)==null?void 0:Q.length)||0)+"件の研究コラボレーション提案 ",1)]),t("div",Qt,[(l(!0),a(p,null,h(((W=s(r))==null?void 0:W.matches)||[],(n,at)=>{var X,Y;return l(),a("div",{key:at,class:"card"},[t("div",Wt,[t("div",Xt,[t("h3",Yt,o(n.researcher.name),1),n.researcher.affiliation?(l(),a("p",Zt,o(n.researcher.affiliation),1)):i("",!0),(X=n.researcher.keywords)!=null&&X.length?(l(),a("div",te,[e[17]||(e[17]=t("span",{class:"text-sm text-gray-500 mr-2"},"共通キーワード:",-1)),t("div",ee,[(l(!0),a(p,null,h(n.researcher.keywords.slice(0,3),_=>(l(),a("span",{key:_,class:"inline-block px-2 py-1 text-xs bg-orange-100 text-orange-800 rounded-full"},o(_),1))),128))])])):i("",!0)]),t("div",se,[t("div",re,o(Math.round(n.researcher.similarity_score*100))+"% ",1),e[18]||(e[18]=t("div",{class:"text-sm text-gray-500"},"マッチ度",-1))])]),t("div",oe,[t("h4",ae," 🔬 "+o(n.theme_proposal.title),1),t("div",le,[t("div",ne,[t("div",null,[e[19]||(e[19]=t("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"研究目的",-1)),t("p",ie,o(n.theme_proposal.purpose),1)]),t("div",null,[e[20]||(e[20]=t("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"研究手法",-1)),t("p",de,o(n.theme_proposal.methodology),1)]),(Y=n.theme_proposal.keywords)!=null&&Y.length?(l(),a("div",ce,[e[21]||(e[21]=t("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"関連キーワード",-1)),t("div",me,[(l(!0),a(p,null,h(n.theme_proposal.keywords,_=>(l(),a("span",{key:_,class:"inline-block px-2 py-1 text-xs bg-indigo-100 text-indigo-800 rounded-full"},o(_),1))),128))])])):i("",!0)]),t("div",xe,[t("div",null,[e[22]||(e[22]=t("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"社会的インパクト",-1)),t("p",_e,o(n.theme_proposal.social_impact),1)]),t("div",null,[e[23]||(e[23]=t("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"期待される成果",-1)),t("p",ge,o(n.theme_proposal.expected_outcomes),1)]),t("div",null,[e[24]||(e[24]=t("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"協力の根拠",-1)),t("p",ue,o(n.theme_proposal.collaboration_rationale),1)])])])])])}),128))]),s(r)&&s(r).matches&&s(r).matches.length===0?(l(),a("div",pe,e[25]||(e[25]=[t("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"マッチング結果がありません",-1),t("p",{class:"text-gray-600"},"この研究者のマッチングデータが見つかりませんでした。",-1)]))):i("",!0)])])):i("",!0)])}}};export{ke as default};
